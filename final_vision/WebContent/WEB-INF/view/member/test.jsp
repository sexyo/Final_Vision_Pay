<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko">
<head>
	<title>아이디 찾기</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<link rel='shortcut icon' href='https://sslimage.gmarket.co.kr/_Net/MyG/favicon/gmarket.ico' />
	<link rel="apple-touch-icon-precomposed" href='https://sslimage.gmarket.co.kr/_Net/apple-touch-icon-precomposed.png'/>
    <link rel="apple-touch-icon" href='https://sslimage.gmarket.co.kr/_Net/apple-touch-icon.png'/>
	
	<script type='text/javascript' src='https://www.gmarket.co.kr/challenge/neo_include/favicon_net.js'></script>
	<script type="text/javascript" src="https://script.gmkt.kr/_Net/js/json2.js"></script>
	<script type="text/javascript" src="https://script.gmkt.kr/_Net/js/jquery-1.8.2.min.js"></script>
	<script type="text/javascript" src="https://script.gmkt.kr/_Net/js/jquery-ui-1.8.17.min.js"></script>
    <script type="text/javascript" src="https://script.gmkt.kr/_Net/js/jquery.popupwindow.js"></script>
	<script type="text/javascript" src="/Scripts/Common.js" ></script>
	<script type="text/javascript" src="/Scripts/ScriptEventErrorHandler.js" ></script>
	<script type="text/javascript">
		$(document).jsErrorHandler();
		var _ContentUrls = ["http://script.gmkt.kr/_Net/css/myg/","http://image.gmarket.co.kr/_Net/","http://script.gmkt.kr/_Net/","https://script.gmkt.kr/_Net/css/myg/ssl/","https://sslimage.gmarket.co.kr/_Net/","https://script.gmkt.kr/_Net/","http://myg.gmarket.co.kr/","https://myg.gmarket.co.kr/","http://member.gmarket.co.kr/","https://member.gmarket.co.kr/","http://gbank.gmarket.co.kr/","https://gbank.gmarket.co.kr/","http://claim.gmarket.co.kr/","https://claim.gmarket.co.kr/","http://escrow.gmarket.co.kr/","https://sslescrow.gmarket.co.kr/","http://diary.gmarket.co.kr/","http://event.gmarket.co.kr/","http://sns.gmarket.co.kr/","http://www.gmarket.co.kr/","https://www.gmarket.co.kr/","http://item.gmarket.co.kr/","http://shop.gmarket.co.kr/","http://member2.gmarket.co.kr/","https://sslmember2.gmarket.co.kr/","http://promotion.gmarket.co.kr/","http://diary2.gmarket.co.kr/","http://eventnet.gmarket.co.kr/","http://ebay.gmarket.co.kr/","http://www.g9.co.kr/","http://signin.gmarket.co.kr/","https://signinssl.gmarket.co.kr/","http://english.gmarket.co.kr/","https://english.gmarket.co.kr/","http://pics.gmkt.kr/","https://pics.gmkt.kr/","/","/","/","/","/","/","/","/",];

    </script>
	<script type="text/javascript" src="https://script.gmkt.kr/_Net/js/dimmed.js"></script>
	<script type='text/javascript' src='https://script.gmkt.kr/_Net/js/gmkt.js?dummy=2012091327262'></script>
	<script type='text/javascript' defer='defer' src='https://script.gmkt.kr/_Net/js/impression.js'></script>
	<script type='text/javascript' src='https://script.gmkt.kr/_Net/js/CommonHeader.js'></script>
	<!--[if IE 6]>
		<script src="https://script.gmkt.kr/_Net/js/DD_belatedPNG.js"></script>
		<script>
			DD_belatedPNG.fix('#main_menu .menu_list span');
			DD_belatedPNG.fix('#main_menu .menu_list p');
		</script>
	<![endif]-->
	
	<link rel="stylesheet" type="text/css" href="https://script.gmkt.kr/pc/css/ko/common.css" />	
	<link rel="stylesheet" type="text/css" href="https://script.gmkt.kr/pc/css/ko/member_join.css" />
    
	<link rel="stylesheet" type="text/css" href="https://script.gmkt.kr/pc/css/ko/idpw-find.css" />
	<script type="text/javascript" src="/Scripts/FindID/FindID.js?v=636912985939081357"></script>
	<script type="text/javascript" src="/Scripts/CharacterUtils.js?v=636912985939081357"></script> 
<!--[if lte IE 7]>
	<script type="text/javascript" src="https://script.gmkt.kr/_Net/js/json2.js"></script>
<![endif]-->

</head>

<body>


<div id="HeaderScriptContainer">
<script type="text/javascript">
	var GmarketHeaderComm = { BaroYN: "Y", Member: { IsLogin: "0", Grade: "unknown", Name: "", Type: "0"} };
</script>
</div>
<script type="text/javascript" src="https://script.gmkt.kr/js/header/Header.utf8.js"></script>
<script language="javascript" type="text/javascript">
	document.domain = "gmarket.co.kr";
	
	var total_cnt2 = 15; //오른쪽 날개배너 총 갯수 
	var view_cnt = 4; // 실제로 노출되는 갯수
	var floatNewsEntity = new Array();
	document.charset = "utf-8";

</script>
	

	

<div id="container">
	<div id="service-idpwfind" class="contents service-idpwfind">
		<ul class="list-page-location">
	<li class="list-page-location__item"><a class="list-page-location__link list-page-location__link--home" href="http://www.gmarket.co.kr">홈</a><span class="list-page-location__icon sprite-idpwfind">&gt;</span><a class="list-page-location__link" href="https://signinssl.gmarket.co.kr/Login/Login">로그인</a><span class="list-page-location__icon sprite-idpwfind">&gt;</span><span class="list-page-location__link">아이디 찾기</span></li>
</ul>
		<div id="box-tab-idpwfind" class="box-tab-idpwfind uxetabs">
			<ul class="box-tab-idpwfind__navigation">
			<li class="box-tab-idpwfind__navigation-item box-tab-idpwfind__navigation-item--active"><a class="box-tab-idpwfind__navigation-link" href="https://sslmember2.gmarket.co.kr/FindID/FindID">아이디 찾기</a></li>
			<li class="box-tab-idpwfind__navigation-item"><a class="box-tab-idpwfind__navigation-link" href="https://sslmember2.gmarket.co.kr/FindPW/FindPW">비밀번호 재설정</a></li>
</ul>
			<!-- #box-tab-find-id -->
			<div id="box-tab-find-id" class="box-tab-idpwfind__contents box-tab-idpwfind__contents--active">
				<h2 class="forA11y">아이디 찾기</h2>
				<p class="box-tab-idpwfind__text-infomation">아이디 찾을 방법을 선택해주세요.</p>
				<form id="findIdForm" method="post" action="/FindID/FindIdComplete/">
					<ul class="list-method-idpwfind uxeslide">
						<li class="list-method-idpwfind__item list-method-idpwfind__item--active" id="sms" onclick="findID.ui.setActive ('sms');">
							<span class="list-method-idpwfind__icon sprite-idpwfind">&nbsp;</span>
<button class="list-method-idpwfind__button" onclick="return false;">휴대폰으로 찾기</button>
<div class="list-method-idpwfind__content list-method-idpwfind__content--active">
	<fieldset>
		<legend class="forA11y">휴대폰으로 찾기 폼</legend>
		<ul class="list-idpwform">
			<li class="list-idpwform__item">
				<div class="box-form-input">
					<input type="text" class="form-input__idpwfind" placeholder="이름" title="이름을 입력해주세요" 
						   onclick="smsAuth.event.clearMessages('name');" 
						   onkeyup="smsAuth.event.clearMessages('name'); smsAuth.event.checkValues('name');"  
						   onchange="smsAuth.event.clearMessages('name'); smsAuth.event.checkValues('name');" 
						   id="sms_auth_name_txt" name="sms_auth_name_txt"/>
				</div>
				<p class="text-validation-error" id="sms_auth_name_err">이름을 입력해주세요.</p>
			</li>
			<li class="list-idpwform__item">
				<div class="box-form-input">
					<input type="text" class="form-input__idpwfind" placeholder="휴대폰번호(숫자만 입력)" title="휴대폰번호" maxlength="13" 
						   onclick="smsAuth.event.clearMessages('cellphone');" 
						   onkeyup="smsAuth.event.clearMessages('cellphone'); smsAuth.event.checkValues('cellphone');" 
						   onchange="smsAuth.event.clearMessages('cellphone'); smsAuth.event.checkValues('cellphone');"
						   id="sms_auth_cell_phone_txt" name="sms_auth_cell_phone_txt"/>
					<button class="button-oninput button-get-code" onclick="return false;" id="sms_auth_authkey_request">인증번호 받기</button>
				</div>
				<p class="text-validation-error" id="sms_auth_cell_phone_err">휴대폰번호를 입력해주세요.</p>
			</li>
			<li class="list-idpwform__item">
				<label class="label-list-idpwform label-list-idpwform--varification" for="sms_auth_authkey_txt" maxlength="6">인증번호</label>
				<div class="box-form-input">
					<input type="text" id="sms_auth_authkey_txt" name="sms_auth_authkey_txt" class="form-input__idpwfind form-input__idpwfind--verification-code" maxlength="6" placeholder="6자리 숫자 입력"  
						   onclick="smsAuth.event.clearMessages('authkey');" 
						   onkeyup="smsAuth.event.clearMessages('authkey'); smsAuth.event.checkValues('authkey');"
						   onchange="smsAuth.event.clearMessages('authkey'); smsAuth.event.checkValues('authkey');"/>
					<span class="box-form-input__time-limit" id="sms_auth_time_txt"></span>
				</div>
				<p class="text-validation-error" id="sms_auth_auth_key_err">휴대폰으로 발송된 인증번호를 입력해주세요.</p>
			</li>
		</ul>
		<div class="box-buttons">
			<button class="button-idpw button-idpw-primary" id="sms_auth_submit" onclick="smsAuth.event.VerifyAuthKey(); return false;">아이디찾기</button>
		</div>
	</fieldset>
</div>
<input type="hidden" id="hdn_request_token_by_sms" name="hdn_request_token_by_sms"/>

<script type="text/javascript">
	var smsAuth = {
		data:{
			auth_from_type: "FFID",  //인증경로
			form:{
				id: "findIdForm"
			},
			getLoginId: function () {
				var loginIdObj = $("#hdn_login_id");
				return loginIdObj ? loginIdObj.val() : "";
			},
			getCustNo: function () {
				var custNoObj = $("#hdn_cust_no");
				return custNoObj ? custNoObj.val() : "";
			}
		},
		ui: {
			name_input: {
				id: "sms_auth_name_txt",
				placehoder: "이름",
				err_msg_obj: "sms_auth_name_err",
				err_msg_on_empty: "이름을 입력해주세요.",
				err_msg_on_invalid: "이름을 입력해주세요."
			},
			cell_phone_input: {
				id: "sms_auth_cell_phone_txt",
				placehoder: "휴대폰번호(숫자만 입력)",
				err_msg_obj: "sms_auth_cell_phone_err",
				err_msg_on_empty: "휴대폰번호를 입력해주세요.",
				err_msg_on_invalid: "휴대폰번호를 정확히 입력해주세요."
			},
			authkey_input: {
				id: "sms_auth_authkey_txt",
				placehoder: "6자리 숫자 입력",
				err_msg_obj: "sms_auth_auth_key_err",
				err_msg_on_empty: "휴대폰으로 발송된 인증번호를 입력해주세요.",
				err_msg_on_invalid: "인증번호를 정확히 입력해주세요.",
				err_msg_on_format: "인증번호는 6자리 숫자입니다. 휴대폰으로 발송된 인증번호를 확인해주세요.",
				err_msg_on_timeout: "인증번호를 다시 요청해주세요."
			},
			authkey_request_btn: {
				id: "sms_auth_authkey_request"
			},
			authkey_timer_description: {
				id: "sms_auth_time_txt"
			},
			authkey_submit_btn: {
				id: "sms_auth_submit"
			},
			authkey_token_hdn: {
				id: "hdn_request_token_by_sms"
			}
		},
		validation: {
			//<!--D: 크로스브라우징을 위해 placeholder 기능을 스크립트로 처리해 놓았습니다. 벨리데이션 체크시 placholder값과 value 값이 같을 경우는 체크 에러 처리해야 합니다. -->
			isEmpty: function (value, phvalue) {
				if (!value || value == "" || value.replace(/(\s*)/g, "") == "" || value == phvalue) {
					return true;
				} else {
					return false;
				}
			},

			isDigitsOnly: function (value) {
				if (characterUtils) {
					return characterUtils.isNumberOnly(value);
				}
				else {
					return false;
				}
			},
			
			isValidNameFormat: function (value, phvalue) {
				return !smsAuth.validation.isEmpty(value, phvalue);
			},

			isValidCellPhoneFormat: function (value, phvalue) {
				//하이픈 포함하고 검사
				if (!characterUtils.isValidCellphoneFormat(value)) {
					return false;
				}
				//하이픈 제거하고 검사
				value = value.replace(/-/g, '');
				if (smsAuth.validation.isEmpty(value, phvalue)) {
					return false;
				}

				if (!smsAuth.validation.isDigitsOnly(value)) {
					return false;
				}

				if (value.length != 10 && value.length != 11) {
					return false;
				}

				return true;
			},


			isValidAuthKeyFormat: function (value, phvalue) {
				if (smsAuth.validation.isEmpty(value, phvalue)) {
					return false;
				}

				if (!smsAuth.validation.isDigitsOnly(value)) {
					return false;
				}

				if (value.length != smsAuth.authKeyRule.length) {
					return false;
				}

				return true;
			},

			isValidAuthKey: function (requestToken, authKey) {
				var result = false;
				var succHandler = function (data) {
					if (data.ReturnCode == 0) {
						result = true;
					} else {
						var txtObj = $("#" + smsAuth.ui.authkey_input.id);
						var errDisplayObj = $("#" + smsAuth.ui.authkey_input.err_msg_obj);

						if (data.ReturnCode == -4 || data.ReturnCode == -5 || data.ReturnCode == -7 || data.ReturnCode == -8) { //인증 번호 다시 받아야함, 이 경우 timer가 의미 없으므로 timer 삭제해준다
							smsAuth.event.clearTimer(); //timer 삭제
						}

						//오류 메세지 노출
						errDisplayObj.text(data.Message);
						if (!errDisplayObj.parent().hasClass("list-idpwform__item--error")) {
							errDisplayObj.parent().addClass("list-idpwform__item--error");
						}

						//인증번호 입력 초기화
						txtObj.text("");
						txtObj.val("");

						//인증번호 영역 focus
						txtObj.focus();

						result = false;
					}
				}

				var failHandler = function () {
					result = false;
				}

				smsAuth.ajaxCall.verifyAuthKey(requestToken, authKey, succHandler, failHandler, "smsAuth.ajaxCall.errHandler");
				return result;
			}
		},
		event: {},
		timer: undefined,
		ajaxCall: {
			getSmsAuthKey: function (name, cellPhoneNo, succHandler, failHandler, errorHandler) {
				var param = [
					{ name: 'name', value: name }
				   , { name: 'cellPhoneNo', value: cellPhoneNo }
				   , { name: 'authFromType', value: smsAuth.data.auth_from_type }
				   , { name: 'maxSearchResult', value: 2 },
				   , { name: 'loginID', value: smsAuth.data.getLoginId() },
				   , { name: 'custNo', value: smsAuth.data.getCustNo() }
				];

				var apiUrl = Member2SslLink("SmsEmailAuth/JsonGetSmsAuthKey");
				var apiResponse = AjaxHelper.GetDataToPostService(apiUrl, param, errorHandler);
				if (apiResponse.status == "200") {
					var data = JSON.parse(apiResponse.responseText);
					succHandler(data);
				} else {
					failHandler();
				}
			},
			verifyAuthKey: function (requestToken, authKey, succHandler, failHandler, errorHandler) {
				var param = [
					{ name: 'requestToken', value: requestToken }
				   , { name: 'authKey', value: authKey }
				   , { name: 'certType', value: "S" }
				];

				var apiUrl = Member2SslLink("SmsEmailAuth/JsonGetVerifyAuthKeyResult");
				var apiResponse = AjaxHelper.GetDataToPostService(apiUrl, param, errorHandler);
				if (apiResponse.status == "200") {
					var data = JSON.parse(apiResponse.responseText);
					succHandler(data);
				} else {
					failHandler();
				}
			},
			errHandler: function (err) {
				if (err && err.Message) {
					alert(err.Message);
				} else {
					alert("처리 중 오류가 발생했습니다.");
				}
			}
		},
		authKeyRule: {
			length: 6,
			timeLimitInMinutes: 2,
			timerCycleInMs: 1000
		}
	};

	smsAuth.event.clearMessages = function (type) {
		if (type == "name") {
			var errDisplayObj = $("#" + smsAuth.ui.name_input.err_msg_obj);
			if (errDisplayObj.parent().hasClass("list-idpwform__item--error")) {
				errDisplayObj.parent().removeClass("list-idpwform__item--error");
			}
		}

		if (type == "cellphone") {
			var errDisplayObj = $("#" + smsAuth.ui.cell_phone_input.err_msg_obj);
			if (errDisplayObj.parent().hasClass("list-idpwform__item--error")) {
				errDisplayObj.parent().removeClass("list-idpwform__item--error");
			}
		}

		if (type == "authkey") {
			var errDisplayObj = $("#" + smsAuth.ui.authkey_input.err_msg_obj);
			if (errDisplayObj.parent().hasClass("list-idpwform__item--error")) {
				errDisplayObj.parent().removeClass("list-idpwform__item--error");
			}
		}
	}

	smsAuth.event.checkValues = function (type) {
		if (type == "name") {
			var txtObj = $("#" + smsAuth.ui.name_input.id);
			var errDisplayObj = $("#" + smsAuth.ui.name_input.err_msg_obj);

			var name = txtObj.val();
			var namePlaceholder = txtObj.attr("placeholder");
			var isValidName = smsAuth.validation.isValidNameFormat(name, namePlaceholder);

			if (!isValidName) {
				//오류 메세지 노출
				errDisplayObj.text(smsAuth.ui.name_input.err_msg_on_empty);
				if (!errDisplayObj.parent().hasClass("list-idpwform__item--error")) {
					errDisplayObj.parent().addClass("list-idpwform__item--error");
				}
			}

			//이름, 휴대폰 번호 모두 입력되었으면 인증번호 받기 버튼을 Active 시킨다.
			var cellphone = $("#" + smsAuth.ui.cell_phone_input.id).val();
			var cellphonePlaceholder = $("#" + smsAuth.ui.cell_phone_input.id).attr("placeholder");
			var isValidCellphone = smsAuth.validation.isValidCellPhoneFormat(cellphone, cellphonePlaceholder);
			if (isValidName && isValidCellphone) {
				smsAuth.event.activeGetAuthKey();
			} else {
				smsAuth.event.disableGetAuthKey();
			}
		}

		if (type == "cellphone") {
			var txtObj = $("#" + smsAuth.ui.cell_phone_input.id);
			var errDisplayObj = $("#" + smsAuth.ui.cell_phone_input.err_msg_obj);

			//하이픈 자동 추가
			var tmpCellphone = txtObj.val().replace(/-/g, '');
			if (tmpCellphone.length <= 6) {
				txtObj.val(tmpCellphone.replace(/^([0-9]{3})([0-9]+)/, "$1-$2"));
			} else if (tmpCellphone.length <= 10) {
				txtObj.val(tmpCellphone.replace(/^([0-9]{3})([0-9]{3})([0-9]+)/, "$1-$2-$3"));
			} else {
				txtObj.val(tmpCellphone.replace(/^([0-9]{3})([0-9]{4})([0-9]{4})/, "$1-$2-$3"));
			}

			//유효성 체크 하기 전에 하이픈 자동 추가 먼저 해준다
			var cellphone = txtObj.val();
			var cellphonePlaceholder = txtObj.attr("placeholder");
			var isValidCellphone = smsAuth.validation.isValidCellPhoneFormat(cellphone, cellphonePlaceholder);

			if (!isValidCellphone) {
				if (smsAuth.validation.isEmpty(cellphone, cellphonePlaceholder)) {
					//오류 메세지 노출
					errDisplayObj.text(smsAuth.ui.cell_phone_input.err_msg_on_empty);
					if (!errDisplayObj.parent().hasClass("list-idpwform__item--error")) {
						errDisplayObj.parent().addClass("list-idpwform__item--error");
					}
				}
				else
				{
					//오류 메세지 노출
					errDisplayObj.text(smsAuth.ui.cell_phone_input.err_msg_on_invalid);
					if (!errDisplayObj.parent().hasClass("list-idpwform__item--error")) {
						errDisplayObj.parent().addClass("list-idpwform__item--error");
					}
				}
			}

			//이름, 휴대폰 번호 모두 입력되었으면 인증번호 받기 버튼을 Active 시킨다.
			var name = $("#" + smsAuth.ui.name_input.id).val();
			var namePlaceholder = $("#" + smsAuth.ui.name_input.id).attr("placeholder");
			var isValidName = smsAuth.validation.isValidNameFormat(name, namePlaceholder);
			if (isValidCellphone && isValidName) {
				smsAuth.event.activeGetAuthKey();
			} else {
				smsAuth.event.disableGetAuthKey();
			}
		}

		if (type == "authkey") {
			var txtObj = $("#" + smsAuth.ui.authkey_input.id);
			var errDisplayObj = $("#" + smsAuth.ui.authkey_input.err_msg_obj);
			var authKey = txtObj.val();
			var authKeyPlaceholder = txtObj.attr("placeholder");
			var isValidAuthKey = smsAuth.validation.isValidAuthKeyFormat(authKey, authKeyPlaceholder);

			if (!isValidAuthKey) {
				if (smsAuth.validation.isEmpty(authKey, authKeyPlaceholder)) {
					//오류 메세지 노출
					errDisplayObj.text(smsAuth.ui.authkey_input.err_msg_on_empty);
					if (!errDisplayObj.parent().hasClass("list-idpwform__item--error")) {
						errDisplayObj.parent().addClass("list-idpwform__item--error");
					}
				}
				else
				{
					//오류 메세지 노출
					errDisplayObj.text(smsAuth.ui.authkey_input.err_msg_on_format);
					if (!errDisplayObj.parent().hasClass("list-idpwform__item--error")) {
						errDisplayObj.parent().addClass("list-idpwform__item--error");
					}
				}
			}

			//submit버튼 설정
			if (isValidAuthKey) {
				var btnObj = $("#" + smsAuth.ui.authkey_submit_btn.id);
				if (!btnObj.hasClass("button-idpw-primary--active")) {
					btnObj.addClass("button-idpw-primary--active");
				}
			} else {
				var btnObj = $("#" + smsAuth.ui.authkey_submit_btn.id);
				if (btnObj.hasClass("button-idpw-primary--active")) {
					btnObj.removeClass("button-idpw-primary--active");
				}
			}
		}
	}

	smsAuth.event.disableGetAuthKey = function () {
		var btnObj = $("#" + smsAuth.ui.authkey_request_btn.id);
		if (btnObj.hasClass("button-get-code--active")) {
			btnObj.removeClass("button-get-code--active");
		}

		btnObj.attr("onclick", "return false;");
	}

	smsAuth.event.activeGetAuthKey = function () {
		var btnObj = $("#" + smsAuth.ui.authkey_request_btn.id);
		if (!btnObj.hasClass("button-get-code--active")) {
			btnObj.addClass("button-get-code--active");
		}

		btnObj.attr("onclick", "smsAuth.event.sendAuthKey(); return false;");
	}

	smsAuth.event.clearTimer = function () {
		var timerObj = $("#" + smsAuth.ui.authkey_timer_description.id);

		clearInterval(smsAuth.timer); //timer 삭제
		timerObj.text(""); //남은 시간 안내 문구 삭제

		//남은 시간 안내 문구 표시하는 줄도 삭제
		var authKeyField = $("#" + smsAuth.ui.authkey_input.id);
		var parent = authKeyField.parent().parent();
		if (parent.hasClass("list-idpwform__item--counting")) {
			parent.removeClass("list-idpwform__item--counting");
		}
	}

	smsAuth.event.setTimer = function () {
		var count = smsAuth.authKeyRule.timeLimitInMinutes * 60;

		smsAuth.timer = setInterval(function () {
			var timerObj = $("#" + smsAuth.ui.authkey_timer_description.id);
			count = count - (smsAuth.authKeyRule.timerCycleInMs / 1000);

			var m = Math.floor(count / 60);
			var s = count % 60;

			timerObj.text(m + "분 " + s + "초 남았습니다.");

			if (m == 0 && s == 0) { //시간 만료
				smsAuth.event.clearTimer(); //timer 삭제

				var hdnTokenObj = $("#" + smsAuth.ui.authkey_token_hdn.id);
				var txtObj = $("#" + smsAuth.ui.authkey_input.id);
				var errDisplayObj = $("#" + smsAuth.ui.authkey_input.err_msg_obj);

				//인증토큰 초기화
				hdnTokenObj.val("");

				//인증번호 입력 초기화
				txtObj.val("");

				//인증번호 영역 focus
				txtObj.focus();
				
				//인증번호 오류 메세지 노출
				errDisplayObj.text(smsAuth.ui.authkey_input.err_msg_on_timeout);
				if (!errDisplayObj.parent().hasClass("list-idpwform__item--error")) {
					errDisplayObj.parent().addClass("list-idpwform__item--error");
				}
			}
		}, smsAuth.authKeyRule.timerCycleInMs);
	}

	smsAuth.event.sendAuthKeySuccess = function (data) {
		if (data.ReturnCode == 0) {

			var loginId = smsAuth.data.getLoginId();
			if (loginId && loginId.length > 0) {
				alert("인증번호 발송 요청이 완료되었습니다.\n인증번호가 오지 않는 경우, " + loginId + "님의 입력한 이름/휴대폰번호를 확인 후 다시 요청해주세요.");
			} else {
				alert("인증번호 발송 요청이 완료되었습니다.\n인증번호가 오지 않는 경우, 입력한 이름/휴대폰번호를 확인 후 다시 요청해주세요.");
			}

			//token 설정
			$("#" + smsAuth.ui.authkey_token_hdn.id).val(data.RequestToken);

			//start timer
			clearInterval(smsAuth.timer);
			smsAuth.event.setTimer();

			//ui settings
			smsAuth.event.activeGetAuthKey();
			
			//오류 메세지 삭제
			var errDisplayObj = $("#" + smsAuth.ui.authkey_input.err_msg_obj);
			errDisplayObj.text("");
			if (errDisplayObj.parent().hasClass("list-idpwform__item--error")) {
				errDisplayObj.parent().removeClass("list-idpwform__item--error");
			}

			//timer class 설정
			var authKeyField = $("#" + smsAuth.ui.authkey_input.id);
			var parent = authKeyField.parent().parent();
			if (!parent.hasClass("list-idpwform__item--counting")) {
				parent.addClass("list-idpwform__item--counting");
			}
		}
		else
		{
			smsAuth.ajaxCall.errHandler(data);
		}
	}

	smsAuth.event.sendAuthKey = function () {
		//input check
		smsAuth.event.checkValues("name");
		smsAuth.event.checkValues("cellphone");

		//인증번호 영역 초기화 및 focus
		var hdnTokenObj = $("#" + smsAuth.ui.authkey_token_hdn.id);
		var authKeyField = $("#" + smsAuth.ui.authkey_input.id);
		var btnObj = $("#" + smsAuth.ui.authkey_request_btn.id);
		hdnTokenObj.val("");
		authKeyField.val("");
		btnObj.text("인증번호 다시받기");

		//call ajax
		var name = $("#" + smsAuth.ui.name_input.id).val();
		var cellPhoneNo = $("#" + smsAuth.ui.cell_phone_input.id).val();
		smsAuth.ajaxCall.getSmsAuthKey(name, cellPhoneNo, smsAuth.event.sendAuthKeySuccess, smsAuth.ajaxCall.errHandler, "smsAuth.ajaxCall.errHandler");
	}

	smsAuth.event.VerifyAuthKey = function () {
		//input validation
		//ajax call
		var errDisplayObj = $("#" + smsAuth.ui.authkey_input.err_msg_obj);
		var authKey = $("#" + smsAuth.ui.authkey_input.id).val();
		var authKeyPlaceholder = $("#" + smsAuth.ui.authkey_input.id).attr("placeholder");
		var requestToken = $("#" + smsAuth.ui.authkey_token_hdn.id).val();
		var isValidFormat = smsAuth.validation.isValidAuthKeyFormat(authKey, authKeyPlaceholder);
		var isValidValue = smsAuth.validation.isValidAuthKey(requestToken, authKey);

		if (isValidFormat && isValidValue) {
			//오류 메세지 삭제
			errDisplayObj.text("");
			if (errDisplayObj.parent().hasClass("list-idpwform__item--error")) {
				errDisplayObj.parent().removeClass("list-idpwform__item--error");
			}

			//form submit
			var formObj = $("#" + smsAuth.data.form.id);
			formObj.submit();
		}
		else {
			//prevent form submit
			var eventObject = event || window.event;
			if (eventObject) {
				eventObject.preventDefault ? eventObject.preventDefault() : (eventObject.returnValue = false);
			} else {
				return false;
			}
		}
	}

</script>
						</li>
						<li class="list-method-idpwfind__item" id="email" onclick="findID.ui.setActive ('email');">
							<span class="list-method-idpwfind__icon sprite-idpwfind">&nbsp;</span>
<button class="list-method-idpwfind__button" onclick="return false;">이메일로 찾기</button>
<div class="list-method-idpwfind__content">
	<fieldset>
		<legend class="forA11y">이메일로 찾기 폼</legend>
		<ul class="list-idpwform">
			<li class="list-idpwform__item">
				<div class="box-form-input">
					<input type="text" class="form-input__idpwfind" placeholder="이름" title="이름을 입력해주세요"  
						   onclick="emailAuth.event.clearMessages('name');"
						   onkeyup="emailAuth.event.clearMessages('name'); emailAuth.event.checkValues('name');" 
						   onchange="emailAuth.event.clearMessages('name'); emailAuth.event.checkValues('name');" 
						   id="email_auth_name_txt" name="email_auth_name_txt"/>
				</div>
				<p class="text-validation-error" id="email_auth_name_err">이름을 입력해주세요.</p>
			</li>
			<li class="list-idpwform__item">
				<div class="box-form-input">
					<input type="text" class="form-input__idpwfind" placeholder=이메일 주소 (@포함) title="이메일 주소를 입력하세요" 
						   onclick="emailAuth.event.clearMessages('email');"   
						   onkeyup="emailAuth.event.clearMessages('email'); emailAuth.event.checkValues('email');" 
						   onchange="emailAuth.event.clearMessages('email'); emailAuth.event.checkValues('email');" 
						   id="email_auth_email_txt" name="email_auth_email_txt" />
					<button class="button-oninput button-get-code"  onclick="return false;" id="email_auth_authkey_request">인증번호 받기</button>
				</div>
				<p class="text-validation-error" id="email_auth_email_err">이메일 주소를 입력해주세요.</p>
			</li>
			<li class="list-idpwform__item">
				<label class="label-list-idpwform label-list-idpwform--varification" for="email_auth_authkey_txt">인증번호</label>
				<div class="box-form-input">
					<input type="text" id="email_auth_authkey_txt" name="email_auth_authkey_txt" class="form-input__idpwfind form-input__idpwfind--verification-code" maxlength=6  
						   placeholder="6자리 숫자 입력"  onclick="emailAuth.event.clearMessages('authkey');" 
						   onkeyup="emailAuth.event.clearMessages('authkey'); emailAuth.event.checkValues('authkey');"
						   onchange="emailAuth.event.clearMessages('authkey'); emailAuth.event.checkValues('authkey');">
					<span class="box-form-input__time-limit" id="email_auth_time_txt"></span>
				</div>
				<p class="text-validation-error" id="email_auth_auth_key_err">이메일로 발송된 인증번호를 입력해주세요.</p>
			</li>
		</ul>
		<div class="box-buttons">
			<button class="button-idpw button-idpw-primary" id="email_auth_submit" onclick="emailAuth.event.VerifyAuthKey();">아이디찾기</button>
		</div>
	</fieldset>
</div>
<input type="hidden" id="hdn_request_token_by_email" name="hdn_request_token_by_email" />
<script type="text/javascript">
	var emailAuth = {
		data:{
			auth_from_type: "FFID",  //인증경로
			form:{
				id: "findIdForm"
			},
			getLoginId: function () {
				var loginIdObj = $("#hdn_login_id");
				return loginIdObj ? loginIdObj.val() : "";
			},
			getCustNo: function () {
				var custNoObj = $("#hdn_cust_no");
				return custNoObj ? custNoObj.val() : "";
			}
		},
		ui: {
			name_input: {
				id: "email_auth_name_txt",
				placehoder: "이름",
				err_msg_obj: "email_auth_name_err",
				err_msg_on_empty: "이름을 입력해주세요.",
				err_msg_on_invalid: "이름을 입력해주세요."
			},
			email_input: {
				id: "email_auth_email_txt",
				placehoder: "이메일 주소 (@포함)",
				err_msg_obj: "email_auth_email_err",
				err_msg_on_empty: "이메일 주소를 입력해주세요.",
				err_msg_on_invalid: "이메일 주소를 정확히 입력해주세요."
			},
			authkey_input: {
				id: "email_auth_authkey_txt",
				placehoder: "6자리 숫자 입력",
				err_msg_obj: "email_auth_auth_key_err",
				err_msg_on_empty: "이메일로 발송된 인증번호를 입력해주세요.",
				err_msg_on_invalid: "인증번호를 정확히 입력해주세요.",
				err_msg_on_format: "인증번호는 6자리 숫자입니다. 이메일로 발송된 인증번호를 확인해주세요.",
				err_msg_on_timeout: "인증번호를 다시 요청해주세요."
			},
			authkey_request_btn: {
				id: "email_auth_authkey_request"
			},
			authkey_timer_description: {
				id: "email_auth_time_txt"
			},
			authkey_submit_btn: {
				id: "email_auth_submit"
			},
			authkey_token_hdn: {
				id: "hdn_request_token_by_email"
			}
		},
		validation: {
			//<!--D: 크로스브라우징을 위해 placeholder 기능을 스크립트로 처리해 놓았습니다. 벨리데이션 체크시 placholder값과 value 값이 같을 경우는 체크 에러 처리해야 합니다. -->
			isEmpty: function (value, phvalue) {
				if (!value || value == "" || value.replace(/(\s*)/g, "") == "" || value == phvalue) {
					return true;
				} else {
					return false;
				}
			},

			isDigitsOnly: function (value) {
				if (characterUtils) {
					return characterUtils.isNumberOnly(value);
				}
				else {
					return false;
				}
			},

			isValidNameFormat: function (value, phvalue) {
				return !emailAuth.validation.isEmpty(value, phvalue);
			},

			isValidEmailFormat: function (value, phvalue) {
				if (emailAuth.validation.isEmpty(value, phvalue)) {
					return false;
				}

				if (value.length > 50) {
					return false;
				}

				if (characterUtils) {
					return characterUtils.isValidEmailFormat(value, phvalue);
				}

				return true;
			},

			isValidAuthKeyFormat: function (value, phvalue) {
				if (emailAuth.validation.isEmpty(value, phvalue)) {
					return false;
				}

				if(!emailAuth.validation.isDigitsOnly(value)){
					return false;
				}

				if (value.length != emailAuth.authKeyRule.length) {
					return false;
				}

				return true;
			},

			isValidAuthKey: function (requestToken, authKey) {
				var result = false;
				var succHandler = function (data) {
					if (data.ReturnCode == 0) {
						result = true;
					} else {
						var txtObj = $("#" + emailAuth.ui.authkey_input.id);
						var errDisplayObj = $("#" + emailAuth.ui.authkey_input.err_msg_obj);

						if (data.ReturnCode == -4 || data.ReturnCode == -5 || data.ReturnCode == -7 || data.ReturnCode == -8) { //인증 번호 다시 받아야함, 이 경우 timer가 의미 없으므로 timer 삭제해준다
							emailAuth.event.clearTimer(); //timer 삭제
						}

						//오류 메세지 노출
						errDisplayObj.text(data.Message);
						if (!errDisplayObj.parent().hasClass("list-idpwform__item--error")) {
							errDisplayObj.parent().addClass("list-idpwform__item--error");
						}

						//인증번호 입력 초기화
						txtObj.text("");
						txtObj.val("");

						//인증번호 영역 focus
						txtObj.focus();

						result = false;
					}
				}

				var failHandler = function () {
					result = false;
				}

				emailAuth.ajaxCall.verifyAuthKey(requestToken, authKey, succHandler, failHandler, "emailAuth.ajaxCall.errHandler");
				return result;
			}
		},
		event: {},
		timer: undefined,
		ajaxCall: {
			getSmsAuthKey: function (name, email, succHandler, failHandler, errorHandler) {
				var param = [
					{ name: 'name', value: name }
				   , { name: 'email', value: email }
				   , { name: 'authFromType', value: emailAuth.data.auth_from_type }
				   , { name: 'maxSearchResult', value: 2 },
				   , { name: 'loginID', value: emailAuth.data.getLoginId() },
				   , { name: 'custNo', value: emailAuth.data.getCustNo() }
				];

				var apiUrl = Member2SslLink("SmsEmailAuth/JsonGetEmailAuthKey");
				var apiResponse = AjaxHelper.GetDataToPostService(apiUrl, param, errorHandler);
				if (apiResponse.status == "200") {
					var data = JSON.parse(apiResponse.responseText);
					succHandler(data);
				} else {
					failHandler();
				}
			},

			verifyAuthKey: function (requestToken, authKey, succHandler, failHandler, errorHandler) {
				var param = [
					{ name: 'requestToken', value: requestToken }
				   , { name: 'authKey', value: authKey }
				   , { name: 'certType', value: "E" }
				];

				var apiUrl = Member2SslLink("SmsEmailAuth/JsonGetVerifyAuthKeyResult");
				var apiResponse = AjaxHelper.GetDataToPostService(apiUrl, param, errorHandler);
				if (apiResponse.status == "200") {
					var data = JSON.parse(apiResponse.responseText);
					succHandler(data);
				} else {
					failHandler();
				}
			},
			errHandler: function (err) {
				if (err && err.Message) {
					alert(err.Message);
				} else {
					alert("처리 중 오류가 발생했습니다.");
				}
			}
		},
		authKeyRule: {
			length: 6,
			timeLimitInMinutes: 10,
			timerCycleInMs: 1000
		}
	};

	emailAuth.event.clearMessages = function (type) {
		if (type == "name") {
			var errDisplayObj = $("#" + emailAuth.ui.name_input.err_msg_obj);
			if (errDisplayObj.parent().hasClass("list-idpwform__item--error")) {
				errDisplayObj.parent().removeClass("list-idpwform__item--error");
			}
		}

		if (type == "email") {
			var errDisplayObj = $("#" + emailAuth.ui.email_input.err_msg_obj);
			if (errDisplayObj.parent().hasClass("list-idpwform__item--error")) {
				errDisplayObj.parent().removeClass("list-idpwform__item--error");
			}
		}

		if (type == "authkey") {
			var errDisplayObj = $("#" + emailAuth.ui.authkey_input.err_msg_obj);
			if (errDisplayObj.parent().hasClass("list-idpwform__item--error")) {
				errDisplayObj.parent().removeClass("list-idpwform__item--error");
			}
		}
	}

	emailAuth.event.checkValues = function (type) {
		if (type == "name") {
			var txtObj = $("#" + emailAuth.ui.name_input.id);
			var errDisplayObj = $("#" + emailAuth.ui.name_input.err_msg_obj);
			var name = txtObj.val();
			var namePlaceholder = txtObj.attr("placeholder");
			var isValidName = emailAuth.validation.isValidNameFormat(name, namePlaceholder);

			if (!isValidName) {
				//오류 메세지 노출
				errDisplayObj.text(emailAuth.ui.name_input.err_msg_on_empty);
				if (!errDisplayObj.parent().hasClass("list-idpwform__item--error")) {
					errDisplayObj.parent().addClass("list-idpwform__item--error");
				}
			}

			//이름, 휴대폰 번호 모두 입력되었으면 인증번호 받기 버튼을 Active 시킨다.
			var email = $("#" + emailAuth.ui.email_input.id).val();
			var emailPlaceholder = $("#" + emailAuth.ui.email_input.id).attr("placeholder");
			var isValidEmail = emailAuth.validation.isValidEmailFormat(email, emailPlaceholder);
			if (isValidName && isValidEmail) {
				emailAuth.event.activeGetAuthKey();
			} else {
				emailAuth.event.disableGetAuthKey();
			}
		}

		if (type == "email") {
			var txtObj = $("#" + emailAuth.ui.email_input.id);
			var errDisplayObj = $("#" + emailAuth.ui.email_input.err_msg_obj);
			var email = txtObj.val();
			var emailPlaceholder = txtObj.attr("placeholder");
			var isValidEmail = emailAuth.validation.isValidEmailFormat(email, emailPlaceholder);

			if (!isValidEmail) {
				if (emailAuth.validation.isEmpty(email, emailPlaceholder)) {
					//오류 메세지 노출
					errDisplayObj.text(emailAuth.ui.email_input.err_msg_on_empty);
					if (!errDisplayObj.parent().hasClass("list-idpwform__item--error")) {
						errDisplayObj.parent().addClass("list-idpwform__item--error");
					}
				}
				else
				{
					//오류 메세지 노출
					errDisplayObj.text(emailAuth.ui.email_input.err_msg_on_invalid);
					if (!errDisplayObj.parent().hasClass("list-idpwform__item--error")) {
						errDisplayObj.parent().addClass("list-idpwform__item--error");
					}
				}
			}

			//이름, 휴대폰 번호 모두 입력되었으면 인증번호 받기 버튼을 Active 시킨다.
			var name = $("#" + emailAuth.ui.name_input.id).val();
			var namePlaceholder = $("#" + emailAuth.ui.name_input.id).attr("placeholder");
			var isValidName = emailAuth.validation.isValidNameFormat(name, namePlaceholder);
			if (isValidEmail && isValidName) {
				emailAuth.event.activeGetAuthKey();
			} else {
				emailAuth.event.disableGetAuthKey();
			}
		}

		if (type == "authkey") {
			var txtObj = $("#" + emailAuth.ui.authkey_input.id);
			var errDisplayObj = $("#" + emailAuth.ui.authkey_input.err_msg_obj);
			var authKey = txtObj.val();
			var authKeyPlaceholder = txtObj.attr("placeholder");
			var isValidAuthKey = emailAuth.validation.isValidAuthKeyFormat(authKey);

			if (!isValidAuthKey) {
				if (emailAuth.validation.isEmpty(authKey, authKeyPlaceholder)) {
					//오류 메세지 노출
					errDisplayObj.text(emailAuth.ui.authkey_input.err_msg_on_empty);
					if (!errDisplayObj.parent().hasClass("list-idpwform__item--error")) {
						errDisplayObj.parent().addClass("list-idpwform__item--error");
					}
				} else {
					//오류 메세지 노출
					errDisplayObj.text(emailAuth.ui.authkey_input.err_msg_on_format);
					if (!errDisplayObj.parent().hasClass("list-idpwform__item--error")) {
						errDisplayObj.parent().addClass("list-idpwform__item--error");
					}
				}
			}

			//submit버튼 설정
			if (isValidAuthKey) {
				var btnObj = $("#" + emailAuth.ui.authkey_submit_btn.id);
				if (!btnObj.hasClass("button-idpw-primary--active")) {
					btnObj.addClass("button-idpw-primary--active");
				}
			} else {
				var btnObj = $("#" + emailAuth.ui.authkey_submit_btn.id);
				if (btnObj.hasClass("button-idpw-primary--active")) {
					btnObj.removeClass("button-idpw-primary--active");
				}
			}
		}
	}

	emailAuth.event.disableGetAuthKey = function () {
		var btnObj = $("#" + emailAuth.ui.authkey_request_btn.id);
		if (btnObj.hasClass("button-get-code--active")) {
			btnObj.removeClass("button-get-code--active");
		}

		btnObj.attr("onclick", "return false;");
	}

	emailAuth.event.activeGetAuthKey = function () {
		var btnObj = $("#" + emailAuth.ui.authkey_request_btn.id);
		if (!btnObj.hasClass("button-get-code--active")) {
			btnObj.addClass("button-get-code--active");
		}

		btnObj.attr("onclick", "emailAuth.event.sendAuthKey(); return false;");
	}

	emailAuth.event.clearTimer = function () {
		var timerObj = $("#" + emailAuth.ui.authkey_timer_description.id);

		clearInterval(emailAuth.timer); //timer 삭제
		timerObj.text(""); //남은 시간 안내 문구 삭제

		//남은 시간 안내 문구 표시하는 줄도 삭제
		var authKeyField = $("#" + emailAuth.ui.authkey_input.id);
		var parent = authKeyField.parent().parent();
		if (parent.hasClass("list-idpwform__item--counting")) {
			parent.removeClass("list-idpwform__item--counting");
		}
	}

	emailAuth.event.setTimer = function () {
		var count = emailAuth.authKeyRule.timeLimitInMinutes * 60;

		emailAuth.timer = setInterval(function () {
			var timerObj = $("#" + emailAuth.ui.authkey_timer_description.id);
			count = count - (emailAuth.authKeyRule.timerCycleInMs / 1000);

			var m = Math.floor(count / 60);
			var s = count % 60;

			timerObj.text(m + "분 " + s + "초 남았습니다.");

			if (m == 0 && s == 0) { //시간 만료

				emailAuth.event.clearTimer(); //timer 삭제

				var hdnTokenObj = $("#" + emailAuth.ui.authkey_token_hdn.id);
				var txtObj = $("#" + emailAuth.ui.authkey_input.id);
				var errDisplayObj = $("#" + emailAuth.ui.authkey_input.err_msg_obj);

				//인증토큰 초기화
				hdnTokenObj.val("");

				//인증번호 입력 초기화
				txtObj.val("");

				//인증번호 영역 focus
				txtObj.focus();

				//인증번호 오류 메세지 노출
				errDisplayObj.text(emailAuth.ui.authkey_input.err_msg_on_timeout);
				if (!errDisplayObj.parent().hasClass("list-idpwform__item--error")) {
					errDisplayObj.parent().addClass("list-idpwform__item--error");
				}
			}
		}, emailAuth.authKeyRule.timerCycleInMs);
	}

	emailAuth.event.sendAuthKeySuccess = function (data) {
		if (data.ReturnCode == 0) {

			var loginId = emailAuth.data.getLoginId();
			if (loginId && loginId.length > 0) {
				alert("인증번호 발송 요청이 완료되었습니다.\n인증번호가 오지 않는 경우, " + loginId + "님의 입력한 이름/이메일주소를 확인 후 다시 요청해주세요.");
			} else {
				alert("인증번호 발송 요청이 완료되었습니다.\n인증번호가 오지 않는 경우, 입력한 이름/이메일주소를 확인 후 다시 요청해주세요.");
			}

			//token 설정
			$("#" + emailAuth.ui.authkey_token_hdn.id).val(data.RequestToken);

			//start timer
			clearInterval(emailAuth.timer);
			emailAuth.event.setTimer();

			//ui settings
			emailAuth.event.activeGetAuthKey();
			
			//오류 메세지 삭제
			var errDisplayObj = $("#" + emailAuth.ui.authkey_input.err_msg_obj);
			errDisplayObj.text("");
			if (errDisplayObj.parent().hasClass("list-idpwform__item--error")) {
				errDisplayObj.parent().removeClass("list-idpwform__item--error");
			}
			
			//timer class 설정
			var authKeyField = $("#" + emailAuth.ui.authkey_input.id);
			var parent = authKeyField.parent().parent();
			if (!parent.hasClass("list-idpwform__item--counting")) {
				parent.addClass("list-idpwform__item--counting");
			}
		}
		else {
			emailAuth.ajaxCall.errHandler(data);
		}
	}

	emailAuth.event.sendAuthKey = function () {
		//input check
		emailAuth.event.checkValues("name");
		emailAuth.event.checkValues("email");

		//인증번호 영역 초기화 및 focus
		var hdnTokenObj = $("#" + emailAuth.ui.authkey_token_hdn.id);
		var authKeyField = $("#" + emailAuth.ui.authkey_input.id);
		var btnObj = $("#" + emailAuth.ui.authkey_request_btn.id);
		hdnTokenObj.val("");
		authKeyField.val("");
		btnObj.text("인증번호 다시받기");

		//call ajax
		var name = $("#" + emailAuth.ui.name_input.id).val();
		var email = $("#" + emailAuth.ui.email_input.id).val();
		emailAuth.ajaxCall.getSmsAuthKey(name, email, emailAuth.event.sendAuthKeySuccess, emailAuth.ajaxCall.errHandler, "emailAuth.ajaxCall.errHandler");
	}

	emailAuth.event.VerifyAuthKey = function () {
		//input validation
		//ajax call
		var errDisplayObj = $("#" + emailAuth.ui.authkey_input.err_msg_obj);
		var authKey = $("#" + emailAuth.ui.authkey_input.id).val();
		var requestToken = $("#" + emailAuth.ui.authkey_token_hdn.id).val();
		var isValidFormat = emailAuth.validation.isValidAuthKeyFormat(authKey);
		var isValidValue = emailAuth.validation.isValidAuthKey(requestToken, authKey);

		if (isValidFormat && isValidValue) {
			//오류 메세지 삭제
			errDisplayObj.text("");
			if (errDisplayObj.parent().hasClass("list-idpwform__item--error")) {
				errDisplayObj.parent().removeClass("list-idpwform__item--error");
			}

			//form submit
			var formObj = $("#" + emailAuth.data.form.id);
			formObj.submit();
		}
		else {
			//prevent form submit
			var eventObject = event || window.event;
			if (eventObject) {
				eventObject.preventDefault ? eventObject.preventDefault() : (eventObject.returnValue = false);
			} else {
				return false;
			}
		}
	}

</script>
						</li>
						<li class="list-method-idpwfind__item" id="mobile" onclick="findID.ui.setActive ('mobile');">
							<span class="list-method-idpwfind__icon sprite-idpwfind">&nbsp;</span>
<button class="list-method-idpwfind__button" onclick="return false;">휴대폰 본인인증으로 찾기</button>
<div class="list-method-idpwfind__content">
	<p class="list-method-idpwfind__text-find">내 명의(이름)로 가입한 아이디와, 이름/휴대폰 번호가 일치한 아이디를 찾습니다.</p>
	<div class="box-buttons">
		<button class="button-idpw button-idpw-primary button-idpw-primary--active" onclick="mobileSelfAuth.openMobileAuthLayer(); return false;">아이디찾기</button>
	</div>
</div>
<script type="text/javascript">
	var mobileSelfAuth = {
		data: {
			auth_from_type: "FFID",  //인증경로
			form: {
				id: "findIdForm"
			}
		}
	};

	mobileSelfAuth.openMobileAuthLayer = function () {
		GmktPopLayerDelete();

		var targetUrl = $("#hdn_target_url").val();
		var url = "/MobileSelfAuth/MobileSelfAuth?fromType=" + mobileSelfAuth.data.auth_from_type + "&returnUrl=" + encodeURIComponent(targetUrl) + "#" + document.domain;
		GmktPopLayerAdd(url, 410, 640, "N");

		return false;
	}

	mobileSelfAuth.processMobileAuthResult = function (authDataEncrypt) {
		try {
			GmktPopLayerDelete();

			$("#hdn_auth_data").val(authDataEncrypt);

			var formObj = $("#" + mobileSelfAuth.data.form.id);
			formObj.submit();
		} catch (e) {
			alert('오류가 발생했습니다. ' + e.Message);
		}
	}
</script>
						</li>
						<li class="list-method-idpwfind__item" id="ipin" onclick="findID.ui.setActive ('ipin');">
							<span class="list-method-idpwfind__icon sprite-idpwfind">&nbsp;</span>
<button class="list-method-idpwfind__button" onclick="return false;">아이핀 본인인증으로 찾기</button>
<div class="list-method-idpwfind__content">
	<p class="list-method-idpwfind__text-find">아이핀 인증이 완료된 후에, 해당 명의(이름)로 가입된 아이디를 찾습니다.</p>
	<div class="box-buttons">
		<button class="button-idpw button-idpw-primary button-idpw-primary--active" onclick="ipinAuth.openIpinAuthLayer(); return false;">아이디찾기</button>
	</div>
</div>
<script type="text/javascript">
	var ipinAuth = {
		data: {
			auth_from_type: "FFID",  //인증경로
			form: {
				id: "findIdForm"
			}
		}
	};

	ipinAuth.openIpinAuthLayer = function () {
		var w = 460;
		var h = 570;

		var popupUrl = "/IPinAuthPopup/IPinAuthPopup?fType=" + ipinAuth.data.auth_from_type;
		var x = (screen.availWidth - w) / 2;
		var y = (screen.availHeight - h) / 2;
		window.open(popupUrl, "IPinAuthPopupForSimple", "toolbar=0,location=0,directories=0,status=0,menubar=0,scrollbars=no,resizable=Yes,copyhistory=0,width=" + w + ",height=" + h + ",left=" + x + ",top=" + y).focus();
	}

	ipinAuth.processIpinAuthResult = function (authDataEncrypt) {
		try {
			$("#hdn_auth_data").val(authDataEncrypt);

			var formObj = $("#" + ipinAuth.data.form.id);
			formObj.submit();

		} catch (e) {
			alert('오류가 발생했습니다. ' + e.Message);
		}
	}
</script>
						</li>
					</ul>
                    <input type="hidden" id="hdn_target_url" name="hdn_target_url" value="" />
                    <input type="hidden" id="hdn_login_url" name="hdn_login_url" value="" />
                    <input type="hidden" id="hdn_auth_method_type" name="hdn_auth_method_type" value="S" /> <!-- 인증 수단 -->
                    <input type="hidden" id="hdn_auth_data" name="hdn_auth_data" /> <!-- 인증 완료 후 설정됨-->
				</form>
			</div>
			<!-- //#box-tab-find-id -->
		</div>
		<!-- //.box-tab-idpwfind -->
	</div>
</div>
<script type="text/javascript">
	$(document).ready(function () {
		//아이디/비번찾기 페이지 body에만 추가되어야 하는 class 입니다.
		$('body').addClass("service__login page__idpwfind");
	});
</script>
<!-- 주의, pc/js/ko/common.js 는 body class 지정한 후에  include한다 -->
<script type="text/javascript" src="https://script.gmkt.kr/pc/js/ko/common.js"></script>
	
	<!-- S:푸터:12.12.17 -->
	
<div id="FooterScriptContainer">
<script type="text/javascript" src="https://script.gmkt.kr/js/header/Footer.utf8.js"></script>
</div>
	<!-- E:푸터:12.12.17 -->

	<div id="GmktPopLayer" class="poplayer" style="height:0px;width:1280px;"></div>

</body>
</html>
	